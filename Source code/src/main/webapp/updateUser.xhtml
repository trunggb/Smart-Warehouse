<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">

<h:head>
	<title>Update User</title>
	<h:outputScript name="jquery/jquery-plugins.js" library="primefaces" />
	<h:outputStylesheet library="css" name="style.css"></h:outputStylesheet>
	<h:outputStylesheet library="css" name="jquery.toast.css"></h:outputStylesheet>
	<h:outputStylesheet name="grid/grid.css" library="primefaces" />

	<h:outputStylesheet name="components.css" library="primefaces" />
</h:head>

<h:body>
	<h:form id="update-user-form">
		<div class="ui-g">
			<div class="ui-g-3">
				<p:outputLabel for="first-name" value="First Name:" />
			</div>
			<div class="ui-g-6 width-100">
				<p:inputText id="first-name"
					value="#{userUpdateBean.user.firstName}"
					requiredMessage="First name  is required" required="true"
					validatorMessage="First name must be atleast 2 character">
					<f:validateLength maximum="100" minimum="2" />
					<p:ajax event="blur" update="@this update-user-form:fname-err-msg" />
				</p:inputText>
			</div>
			<div class="ui-g-3">
				<h:message for="first-name" styleClass="error-msg"
					id="fname-err-msg" />
			</div>
		</div>

		<div class="ui-g">
			<div class="ui-g-3">
				<p:outputLabel for="last-name" value="Last Name:" />
			</div>
			<div class="ui-g-6 width-100">
				<p:inputText id="last-name" value="#{userUpdateBean.user.lastName}"
					requiredMessage="Last name  is required" required="true"
					validatorMessage="Last name must be atleast 2 character">
					<f:validateLength maximum="100" minimum="2" />
					<p:ajax event="blur" update="@this update-user-form:lname-err-msg" />
				</p:inputText>
			</div>
			<div class="ui-g-3">
				<h:message for="last-name" styleClass="error-msg" id="lname-err-msg" />
			</div>
		</div>
		<div class="ui-g">
			<div class="ui-g-3">
				<p:outputLabel value="User Name:" for="user-name" />
			</div>
			<div class="ui-g-6 width-100">
				<p:inputText id="user-name" required="true"
					value="#{userUpdateBean.user.userName}"
					requiredMessage="User name is required">
					<p:ajax event="blur"
						update="@this update-user-form:username-err-msg"></p:ajax>
				</p:inputText>
			</div>
			<div class="ui-g-3">
				<h:message for="user-name" styleClass="error-msg"
					id="username-err-msg" />
			</div>
		</div>

		<div class="ui-g">
			<div class="ui-g-3">
				<p:outputLabel value="Password:" for="user-password" />
			</div>
			<div class="ui-g-6 width-100">
				<p:password id="user-password"
					value="#{userUpdateBean.user.password}">
				</p:password>
			</div>
			<div class="ui-g-3">
				<h:message for="user-password" styleClass="error-msg"
					id="password-err-msg" />
			</div>
		</div>

		<div class="ui-g">
			<div class="ui-g-3">
				<p:outputLabel for="user-email" value="Email:" />
			</div>
			<div class="ui-g-6 width-100">
				<p:inputText id="user-email" value="#{userUpdateBean.user.email}"
					validatorMessage="Invalid email format"
					requiredMessage="Email is required">
					<f:validateRegex
						pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
					<p:ajax event="blur" update="@this update-user-form:email-err-msg" />
				</p:inputText>
			</div>
			<div class="ui-g-3">
				<h:message for="user-email" styleClass="error-msg"
					id="email-err-msg" />
			</div>
		</div>
		<div class="ui-g">
			<div class="ui-g-3">
				<p:outputLabel for="user-phone" value="Phone:" />
			</div>
			<div class="ui-g-6 width-100">
				<p:inputText type="tel" id="user-phone"
					value="#{userUpdateBean.user.phone}"
					requiredMessage="Phone number is required" required="true">
					<p:ajax event="blur" update="@this update-user-form:phone-err-msg" />
				</p:inputText>
			</div>
			<div class="ui-g-3">
				<h:message for="user-phone" styleClass="error-msg"
					id="phone-err-msg" />
			</div>
		</div>
		<div class="ui-g">
			<div class="ui-g-3">
				<p:outputLabel for="user-address" value="Address:" />
			</div>
			<div class="ui-g-6 width-100">
				<p:inputText id="user-address"
					value="#{userUpdateBean.user.address}" />
			</div>
		</div>
		<div class="ui-g">
			<div class="ui-g-3">
				<p:outputLabel value="Status:" for="user-status-radio" />
			</div>
			<div class="ui-g-6">
				<p:selectOneRadio id="user-status-radio" required="true"
					requiredMessage="Status is required"
					value="#{userUpdateBean.user.status}">
					<f:selectItems value="#{userUpdateBean.getUserStatus()}"
						var="userStatus" itemValue="#{userStatus}"
						itemLabel="#{userStatus.toString()}" />
					<p:ajax event="change" update="@this update-user-form:status-err-msg" />
				</p:selectOneRadio>
			</div>
			<div class="ui-g-3">
				<h:message for="user-status-radio" styleClass="error-msg"
					id="status-err-msg" />
			</div>
		</div>

		<div class="ui-g">
			<div class="ui-g-3">
				<p:outputLabel for="user-avatar" value="Avatar:" />
			</div>
			<div class="ui-g-6 width-100">
				<p:inputText id="user-avatar" value="#{userUpdateBean.user.avatar}"
					validatorMessage="Invalid avatar url format">
					<p:ajax event="blur" update="@this update-user-form:avatar-err-msg"></p:ajax>
					<f:validator validatorId="imgValidator" />
				</p:inputText>
			</div>
			<div class="ui-g-3">
				<h:message for="user-avatar" styleClass="error-msg"
					id="avatar-err-msg" />
			</div>
		</div>

		<div class="ui-g">
			<div class="ui-g-3">
				<p:outputLabel value="Role:" for="user-role-radio" />
			</div>
			<div class="ui-g-6">
				<p:selectOneRadio id="user-role-radio" required="true"
					requiredMessage="Role is required"
					value="#{userUpdateBean.user.role}">
					<f:selectItems value="#{userUpdateBean.getUserRoles()}"
						var="userRoles" itemValue="#{userRoles}"
						itemLabel="#{userRoles.toString()}" />
					<p:ajax event="change" update="@this update-user-form:role-err-msg" />
				</p:selectOneRadio>
			</div>
			<div class="ui-g-3">
				<h:message for="user-role-radio" styleClass="error-msg"
					id="role-err-msg" />
			</div>
		</div>
		<div class="center-but">
			<p:commandButton value="Update" type="submit"
				action="#{userUpdateBean.updateUser}" update="@form" />
		</div>
	</h:form>
	<h:outputScript library="js" name="jquery.toast.js"></h:outputScript>
	<h:outputScript library="js" name="script.js"></h:outputScript>
</h:body>

</html>